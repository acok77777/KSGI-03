<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ìš°ë¦¬ ê°€ì¡± ì‹œìƒì‹</title>

<style>
body{
  margin:0;
  font-family: Arial;
  text-align:center;
  background: linear-gradient(135deg,#ffe5ec,#e0f7fa,#fff1e6,#e5ffe5);
}

h1{ margin-top:20px; font-size:30px; }

.pointer{
  width:0;height:0;
  border-left:18px solid transparent;
  border-right:18px solid transparent;
  border-top:28px solid #ff4d6d;
  margin:10px auto;
}

.container{
  position:relative;
  width:340px;height:340px;
  margin:20px auto;
}

#wheel{
  width:100%;height:100%;
  border-radius:50%;
}

.center-flower{
  position:absolute;
  width:80px;height:80px;
  background:#fff;
  border-radius:50%;
  top:50%;left:50%;
  transform:translate(-50%,-50%);
  box-shadow:0 0 10px rgba(0,0,0,0.2);
}

/* ë²„íŠ¼ */
button{
  padding:12px 20px;
  margin:8px;
  border:none;
  border-radius:12px;
  font-size:15px;
  background:#ff6b81;
  color:white;
  cursor:pointer;
}
button:hover{ background:#ff4757; }

/* íŒì—… */
.popup{
  position:fixed;
  top:0;left:0;
  width:100%;height:100%;
  background:rgba(0,0,0,0.4);
  display:none;
  justify-content:center;
  align-items:center;
}

.popup-content{
  background:white;
  padding:25px;
  border-radius:20px;
  width:260px;
}
</style>
</head>

<body>

<h1>ğŸŒ· ìš°ë¦¬ ê°€ì¡± ì‹œìƒì‹ ğŸŒ·</h1>

<div class="pointer"></div>

<div class="container">
  <canvas id="wheel" width="340" height="340"></canvas>
  <div class="center-flower">ğŸŒ¸</div>
</div>

<button onclick="startSpin()">ì‹œì‘</button>
<button onclick="stopSpin()">ë©ˆì¶¤</button>
<button onclick="showResult()">ë‚´ìš©</button>

<div class="popup" id="popup" onclick="closePopup()">
  <div class="popup-content">
    <h2 id="title"></h2>
    <p id="desc"></p>
  </div>
</div>

<script>
const canvas = document.getElementById("wheel");
const ctx = canvas.getContext("2d");

const items = [
"ìƒìƒì´ìƒ","ì–¸ì œë‚˜ ì›ƒìƒ","24ì‹œê°„ ë°©ì†¡ ìƒ","ë“ ë“ í•œ ë²„íŒ€ëª©ìƒ",
"ê³ ë§ˆì›Œì„œ ëˆˆë¬¼ìƒ","ì‚¬ë‘ ë“¬ë¿ìƒ","ìš°ë¦¬ì§‘ í–‡ì‚´ìƒ",
"ë§ì—†ì´ ì§€ì¼œì¤€ ìƒ","ë‹¤ì‹œ íƒœì–´ë‚˜ë„ ê°€ì¡± ìƒ","ë¬´í•œ ë°©íŒ¨ìƒ"
];

const desc = {
"ìƒìƒì´ìƒ":"ë‚¨ë“¤ê³¼ ë‹¤ë¥¸ ì¬ëŠ¥ê³¼ ê¸°ë°œí•œ ìƒê°ìœ¼ë¡œ ê°€ì¡±ì„ ë†€ë¼ê²Œ í•˜ëŠ” ì‚¬ëŒì—ê²Œ ë“œë¦¬ëŠ” ìƒ",
"ì–¸ì œë‚˜ ì›ƒìƒ":"ì–¸ì œ ì–´ë””ì„œë‚˜ ë°ì€ ì›ƒìŒìœ¼ë¡œ ê°€ì¡±ì˜ ë¶„ìœ„ê¸°ë¥¼ ë”°ëœ»í•˜ê²Œ ë§Œë“œëŠ” ì‚¬ëŒì—ê²Œ ë“œë¦¬ëŠ” ìƒ",
"24ì‹œê°„ ë°©ì†¡ ìƒ":"ëŠì„ì—†ëŠ” ì´ì•¼ê¸°ì™€ ìˆ˜ë‹¤ë¡œ ì§‘ì•ˆì„ í™œê¸°ì°¨ê²Œ ë§Œë“œëŠ” ì‚¬ëŒì—ê²Œ ë“œë¦¬ëŠ” ìƒ",
"ë“ ë“ í•œ ë²„íŒ€ëª©ìƒ":"í˜ë“¤ ë•Œ í•­ìƒ ì˜†ì—ì„œ ì§€ì¼œì£¼ê³  ê°€ì¡±ì˜ ì¤‘ì‹¬ì´ ë˜ì–´ì£¼ëŠ” ì‚¬ëŒì—ê²Œ ë“œë¦¬ëŠ” ìƒ",
"ê³ ë§ˆì›Œì„œ ëˆˆë¬¼ìƒ":"í‰ì†Œì—” í‘œí˜„ ëª» í–ˆì§€ë§Œ ê°€ì¥ ê³ ë§™ê³  ê°€ì¥ ì†Œì¤‘í•œ ì‚¬ëŒì—ê²Œ ë“œë¦¬ëŠ” ìƒ",
"ì‚¬ë‘ ë“¬ë¿ìƒ":"í‘œí˜„ì€ ì„œíˆ´ëŸ¬ë„ ëˆ„êµ¬ë³´ë‹¤ ê°€ì¡±ì„ ê¹Šì´ ì‚¬ë‘í•˜ëŠ” ë§ˆìŒì„ ê°€ì§„ ì‚¬ëŒì—ê²Œ ë“œë¦¬ëŠ” ìƒ",
"ìš°ë¦¬ì§‘ í–‡ì‚´ìƒ":"ì¡´ì¬ë§Œìœ¼ë¡œë„ ê°€ì¡±ì˜ í•˜ë£¨ë¥¼ ë°ê²Œ ë§Œë“¤ì–´ì£¼ëŠ” ì‚¬ëŒì—ê²Œ ë“œë¦¬ëŠ” ìƒ",
"ë§ì—†ì´ ì§€ì¼œì¤€ ìƒ":"í‹°ë‚´ì§€ ì•Šì§€ë§Œ í•­ìƒ ë’¤ì—ì„œ ê°€ì¡±ì„ ì§€ì¼œì¤€ ì‚¬ëŒì—ê²Œ ë“œë¦¬ëŠ” ìƒ",
"ë‹¤ì‹œ íƒœì–´ë‚˜ë„ ê°€ì¡± ìƒ":"ë‹¤ì‹œ íƒœì–´ë‚˜ë„ ê¼­ ìš°ë¦¬ ê°€ì¡±ìœ¼ë¡œ ë§Œë‚˜ê³  ì‹¶ì€ ì‚¬ëŒì—ê²Œ ë“œë¦¬ëŠ” ìƒ",
"ë¬´í•œ ë°©íŒ¨ìƒ":"ì–´ë–¤ ìƒí™©ì—ì„œë„ ê°€ì¡±ì„ ë¨¼ì € ì§€ì¼œì£¼ëŠ” ë¶„ê»˜ ë“œë¦¬ëŠ” ìƒ"
};

const colors = ["#ffadad","#ffd6a5","#fdffb6","#caffbf","#9bf6ff","#a0c4ff","#bdb2ff","#ffc6ff","#fffffc","#d8f3dc"];

let angle=0;
let spinning=false;
let speed=0;
let resultIndex=null;

/* âœ… ì´ë¯¸ ë‚˜ì˜¨ ê²°ê³¼ ì €ì¥ */
let used = [];

/* ê·¸ë¦¬ê¸° */
function draw(){
  const arc = (2*Math.PI)/items.length;
  ctx.clearRect(0,0,340,340);

  for(let i=0;i<items.length;i++){
    const start = angle + i*arc;

    ctx.beginPath();
    ctx.fillStyle = colors[i];
    ctx.moveTo(170,170);
    ctx.arc(170,170,170,start,start+arc);
    ctx.fill();

    ctx.strokeStyle="#fff";
    ctx.stroke();

    ctx.save();
    ctx.translate(170,170);
    ctx.rotate(start+arc/2);
    ctx.fillStyle="#333";
    ctx.font="bold 16px Arial";
    ctx.fillText(items[i],80,5);
    ctx.restore();
  }
}

/* ì• ë‹ˆ */
function animate(){
  if(spinning){
    angle+=speed;
    angle%=2*Math.PI;
    draw();
    requestAnimationFrame(animate);
  }
}

/* ì‹œì‘ */
function startSpin(){
  if(used.length === items.length){
    alert("ğŸ‰ ëª¨ë“  ìƒì´ ë‚˜ì™”ì–´ìš”! ë‹¤ì‹œ ì‹œì‘í•©ë‹ˆë‹¤.");
    used = [];
  }
  spinning=true;
  speed=0.35;
  resultIndex=null;
  animate();
}

/* ë©ˆì¶¤ */
function stopSpin(){
  spinning=false;

  const available = items.map((_,i)=>i).filter(i=>!used.includes(i));

  const randomIndex = available[Math.floor(Math.random()*available.length)];

  resultIndex = randomIndex;
  used.push(randomIndex);

  const arc = (2*Math.PI)/items.length;
  angle = (2*Math.PI) - (randomIndex * arc) - arc/2;

  draw();
}

/* ë‚´ìš© */
function showResult(){
  if(resultIndex===null) return;

  const result = items[resultIndex];

  document.getElementById("title").innerText=result;
  document.getElementById("desc").innerText=desc[result];
  document.getElementById("popup").style.display="flex";
}

function closePopup(){
  document.getElementById("popup").style.display="none";
}

draw();
</script>

</body>
</html>
