<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ğŸ¡ ë£°ë ›</title>

<style>
body {
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  background:#f5f5f5;
  font-family:sans-serif;
}

.container {
  text-align:center;
}

#wheel {
  width:300px;
  height:300px;
  border-radius:50%;
  border:8px solid #333;
  position:relative;
  overflow:hidden;
  transition: transform 4s cubic-bezier(.17,.67,.83,.67);
}

/* ì¡°ê° */
.slice {
  position:absolute;
  width:50%;
  height:50%;
  top:50%;
  left:50%;
  transform-origin:0% 0%;
}

/* ê¸€ì”¨ */
.label {
  position:absolute;
  left:85%; /* ğŸ‘‰ ë°”ê¹¥ìª½ìœ¼ë¡œ ì´ë™ */
  top:50%;
  transform: rotate(90deg);
  transform-origin:left center;
  font-size:14px;
  font-weight:bold;
}

/* í™”ì‚´í‘œ */
.pointer {
  position:absolute;
  top:-20px;
  left:50%;
  transform:translateX(-50%);
  width:0;
  height:0;
  border-left:10px solid transparent;
  border-right:10px solid transparent;
  border-bottom:20px solid red;
}

button {
  margin-top:20px;
  padding:10px 20px;
  font-size:16px;
}
</style>
</head>

<body>
<div class="container">
  <div class="pointer"></div>
  <div id="wheel"></div>
  <button onclick="spin()">ëŒë¦¬ê¸°</button>
  <p id="result"></p>
</div>

<script>
const items = [
  "ì¹˜í‚¨","í”¼ì","ë–¡ë³¶ì´","ë¼ë©´","ì´ˆë°¥",
  "í–„ë²„ê±°","ìƒëŸ¬ë“œ","íŒŒìŠ¤íƒ€","ê¹€ë°¥","ëˆê¹ŒìŠ¤"
];

let remaining = [...items]; // ğŸ‘‰ ì¤‘ë³µ ë°©ì§€ ë°°ì—´

const wheel = document.getElementById("wheel");
const result = document.getElementById("result");

const sliceAngle = 360 / items.length;

/* ë£°ë › ë§Œë“¤ê¸° */
items.forEach((item, i) => {
  const slice = document.createElement("div");
  slice.className = "slice";

  const angle = sliceAngle * i;
  slice.style.transform = `rotate(${angle}deg) skewY(${90 - sliceAngle}deg)`;
  slice.style.background = i % 2 === 0 ? "#ffd966" : "#f4b183";

  const label = document.createElement("div");
  label.className = "label";
  label.innerText = item;

  slice.appendChild(label);
  wheel.appendChild(slice);
});

let currentRotation = 0;

function spin() {
  if (remaining.length === 0) {
    result.innerText = "ğŸ‰ 10ê°œ ëª¨ë‘ ì™„ë£Œ!";
    return;
  }

  // ğŸ‘‰ ë‚¨ì€ ê²ƒ ì¤‘ ëœë¤ ì„ íƒ
  const randomIndex = Math.floor(Math.random() * remaining.length);
  const selected = remaining[randomIndex];

  // ğŸ‘‰ ì‹¤ì œ index ì°¾ê¸°
  const realIndex = items.indexOf(selected);

  // ğŸ‘‰ ê°ë„ ê³„ì‚° (í™”ì‚´í‘œ ìœ„ì¹˜ ë§ì¶”ê¸°)
  const targetAngle = 360 - (realIndex * sliceAngle + sliceAngle / 2);

  const extraSpin = 360 * 5; // ë§ì´ ëŒê¸°
  const finalAngle = currentRotation + extraSpin + targetAngle;

  wheel.style.transform = `rotate(${finalAngle}deg)`;

  currentRotation = finalAngle % 360;

  // ğŸ‘‰ ê²°ê³¼ ì¶œë ¥ + ì œê±°
  setTimeout(() => {
    result.innerText = `ê²°ê³¼: ${selected}`;
    remaining.splice(randomIndex, 1); // ì¤‘ë³µ ì œê±°
  }, 4000);
}
</script>
</body>
</html>
