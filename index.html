<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ğŸŒ¸ íšŒì „íŒ ğŸŒ¸</title>

<style>
body {
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  height:100vh;
  background:#fff7fb;
  font-family:sans-serif;
}

/* í™”ì‚´í‘œ */
.arrow {
  font-size:30px;
  margin-bottom:10px;
}

/* íšŒì „íŒ */
.wheel {
  width:300px;
  height:300px;
  border-radius:50%;
  position:relative;
  overflow:hidden;
  transform:rotate(0deg);
  transition:transform 3s ease-out;
}

/* ì¹¸ */
.slice {
  position:absolute;
  width:50%;
  height:50%;
  top:50%;
  left:50%;
  transform-origin:0% 0%;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:12px;
  text-align:center;
  padding:5px;
  box-sizing:border-box;
}

/* ë²„íŠ¼ ê³µí†µ */
.btn {
  margin-top:10px;
  padding:10px 20px;
  font-size:16px;
  border:none;
  border-radius:20px;
  color:white;
  cursor:pointer;
}

/* ë²„íŠ¼ ìƒ‰ ë‹¤ë¥´ê²Œ */
.start { background:#ff6b6b; }
.stop { background:#4dabf7; }
.extra { background:#51cf66; }

/* íŒì—… */
.popup {
  position:fixed;
  top:50%;
  left:50%;
  transform:translate(-50%, -50%);
  padding:20px;
  border-radius:15px;
  box-shadow:0 0 15px rgba(0,0,0,0.3);
  display:none;
  min-width:220px;

  /* ğŸŒˆ ë ˆì¸ë³´ìš° ë°°ê²½ */
  background: linear-gradient(
    45deg,
    red, orange, yellow, green, blue, indigo, violet
  );
  color:#fff;
  text-align:center;
}

/* ë‹«ê¸° ë²„íŠ¼ */
.close {
  position:absolute;
  top:5px;
  right:10px;
  cursor:pointer;
  font-size:18px;
}
</style>
</head>

<body>

<div class="arrow">â¬‡ï¸</div>

<div class="wheel" id="wheel"></div>

<button class="btn start" onclick="startSpin()">ì‹œì‘ â–¶</button>
<button class="btn stop" onclick="stopSpin()">ë©ˆì¶¤ â¹</button>
<button class="btn extra" onclick="showResult('ğŸ ë³´ë„ˆìŠ¤!')">ë‚´ìš© ğŸ€</button>

<div class="popup" id="popup">
  <div class="close" onclick="closePopup()">âœ–</div>
  <div id="result"></div>
</div>

<script>
const items = [
  "ê±´ê°• ğŸ€", "í–‰ìš´ âœ¨", "ëˆ ğŸ’°", "ì‚¬ë‘ ğŸ’–",
  "ì„±ê³µ ğŸš€", "íœ´ì‹ ğŸ˜Œ", "ê¸°íšŒ ğŸŒˆ", "ê¸°ì¨ ğŸ˜Š"
];

const wheel = document.getElementById("wheel");
const sliceAngle = 360 / items.length;

items.forEach((text, i) => {
  const div = document.createElement("div");
  div.className = "slice";

  div.style.transform = `
    rotate(${i * sliceAngle}deg)
    skewY(${90 - sliceAngle}deg)
  `;

  div.style.background = `hsl(${i * 40}, 80%, 85%)`;

  div.innerHTML = `
    <div style="
      transform: skewY(-${90 - sliceAngle}deg) rotate(${sliceAngle/2}deg);
    ">
      ${text}
    </div>
  `;

  wheel.appendChild(div);
});

let spinning = false;
let currentRotation = 0;
let spinInterval;

/* ì‹œì‘ */
function startSpin() {
  if (spinning) return;
  spinning = true;

  spinInterval = setInterval(() => {
    currentRotation += 10;
    wheel.style.transform = `rotate(${currentRotation}deg)`;
  }, 20);
}

/* ë©ˆì¶¤ */
function stopSpin() {
  if (!spinning) return;

  clearInterval(spinInterval);
  spinning = false;

  const finalDeg = currentRotation % 360;
  const index = Math.floor((360 - finalDeg) / sliceAngle) % items.length;

  setTimeout(() => {
    showResult(items[index]);
  }, 200);
}

/* ê²°ê³¼ */
function showResult(text) {
  document.getElementById("result").innerText = text;
  document.getElementById("popup").style.display = "block";
}

/* ë‹«ê¸° */
function closePopup() {
  document.getElementById("popup").style.display = "none";
}
</script>

</body>
</html>
